@model ErrorViewModel
@{
    ViewData["Title"] = "Hata";
}

<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card border-danger">
                <div class="card-header bg-danger text-white">
                    <h4><i class="fas fa-exclamation-triangle"></i> Bir Hata Oluştu</h4>
                </div>
                <div class="card-body">
                    <div class="alert alert-danger">
                        <h5>Üzgünüz, bir hata oluştu!</h5>
                        <p>Lütfen daha sonra tekrar deneyin veya sistem yöneticisi ile iletişime geçin.</p>
                    </div>

                    @if (!string.IsNullOrEmpty(Model?.RequestId))
                    {
                        <div class="alert alert-info">
                            <strong>İstek ID:</strong> <code>@Model.RequestId</code>
                            <br>
                            <small class="text-muted">Bu ID'yi sistem yöneticisine bildirin.</small>
                        </div>
                    }

                    <div class="mt-4">
                        <h6>Yapabilecekleriniz:</h6>
                        <ul>
                            <li>Sayfayı yenileyin (F5)</li>
                            <li>Ana sayfaya geri dönün</li>
                            <li>Daha sonra tekrar deneyin</li>
                            <li>Sistem yöneticisi ile iletişime geçin</li>
                        </ul>
                    </div>

                    <div class="text-center mt-4">
                        <a asp-controller="Home" asp-action="Index" class="btn btn-primary">
                            <i class="fas fa-home"></i> Ana Sayfaya Dön
                        </a>
                        <button onclick="window.location.reload()" class="btn btn-secondary">
                            <i class="fas fa-redo"></i> Sayfayı Yenile
                        </button>
                    </div>
                </div>
                <div class="card-footer text-muted">
                    <small>
                        <i class="fas fa-clock"></i> Hata Zamanı: @DateTime.Now.ToString("dd.MM.yyyy HH:mm:ss")
                    </small>
                </div>
            </div>

            @if (ViewContext.HttpContext.Request.Host.Host == "localhost")
            {
                <div class="card mt-4 border-warning">
                    <div class="card-header bg-warning">
                        <h6><i class="fas fa-tools"></i> Geliştirici Bilgileri</h6>
                    </div>
                    <div class="card-body">
                        <p><strong>Environment:</strong> @(ViewContext.HttpContext.RequestServices.GetService(typeof(IWebHostEnvironment)) as IWebHostEnvironment)?.EnvironmentName</p>
                        <p><strong>Host:</strong> @ViewContext.HttpContext.Request.Host</p>
                        <p><strong>Path:</strong> @ViewContext.HttpContext.Request.Path</p>
                        <p><strong>Method:</strong> @ViewContext.HttpContext.Request.Method</p>
                        <p><strong>User Agent:</strong> @ViewContext.HttpContext.Request.Headers.UserAgent</p>
                        
                        <div class="mt-3">
                            <h6>Önerilen Çözümler:</h6>
                            <ul class="small">
                                <li>Uygulamayı <code>http://localhost:5000</code> adresinden açmayı deneyin</li>
                                <li>Tarayıcı cache'ini temizleyin (Ctrl+Shift+Del)</li>
                                <li>Farklı bir tarayıcı ile deneyin</li>
                                <li>Visual Studio'dan "Start Without Debugging" (Ctrl+F5) kullanın</li>
                            </ul>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
</div>